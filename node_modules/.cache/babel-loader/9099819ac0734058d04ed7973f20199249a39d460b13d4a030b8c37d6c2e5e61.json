{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from \"vuex\";\nimport axios from \"axios\";\nimport { toast } from \"vue3-toastify\";\nimport \"vue3-toastify/dist/index.css\";\nconst apiURL = \"https://thutzbooking.onrender.com\";\nexport default createStore({\n  state: {\n    user: null,\n    services: null,\n    service: null,\n    booking: null,\n    review: null\n  },\n  getters: {},\n  mutations: {\n    setUser(state, payload) {\n      state.user = payload;\n    },\n    setServices(state, payload) {\n      state.services = payload;\n    },\n    setService(state, payload) {\n      state.service = payload;\n    },\n    setBooking(state, payload) {\n      state.booking = payload;\n    },\n    setReview(state, payload) {\n      state.review = payload;\n    }\n  },\n  actions: {\n    // ===== Users =====\n    async getUsers({\n      commit\n    }) {\n      try {\n        let {\n          data\n        } = await axios.get(`${apiURL}/user`);\n        commit(\"setUser\", data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n      console.log(getUsers);\n    },\n    async fetchUser({\n      commit\n    }, id) {\n      try {\n        const {\n          result,\n          msg\n        } = await (await axios.get(`${apiURL}/user/${id}`)).data;\n        if (result) {\n          commit(\"setUser\", result);\n        } else {\n          toast.error(`${msg}`, {\n            autoClose: 2000,\n            position: toast.POSITION.BOTTOM_CENTER\n          });\n        }\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== Services =====\n    async getServices({\n      commit\n    }) {\n      try {\n        const {\n          data: {\n            results\n          }\n        } = await axios.get(`${apiURL}/services`);\n        console.log(results);\n        commit(\"setServices\", results);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async getService({\n      commit\n    }, id) {\n      try {\n        const response = await axios.get(`${apiURL}/services/${id}`);\n        console.log(results);\n        commit(\"setService\", results);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== Bookings =====\n    async getBookings({\n      commit\n    }) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/booking`);\n        commit(\"setBooking\", data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async getBooking({\n      commit\n    }, id) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/booking/${id}`);\n        commit(\"setBooking\", data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== Reviews =====\n    async getReviews({\n      commit\n    }) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/review`);\n        commit(\"setReview\", data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async getReview({\n      commit\n    }, id) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/review/${id}`);\n        commit(\"setReview\", data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== LOGIN =======\n    async login(context, payload) {\n      try {\n        const {\n          msg,\n          result,\n          token\n        } = await (await axios.post(`${apiURL}user/login`, payload)).data;\n        if (result) {\n          toast.success(`${msg}`, {\n            autoClose: 3000\n          });\n          context.commit(\"setUser\", {\n            msg,\n            result\n          });\n          cookies.set(\"LegitUser\", {\n            token,\n            msg,\n            result\n          });\n          useToken(token);\n          router.push({\n            name: \"services\"\n          });\n          toast.success(\"Select to book!\"), {\n            autoClose: 10000\n          };\n        } else {\n          toast.error(`${msg}`, {\n            autoClose: 3000\n          });\n        }\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 3000\n        });\n      }\n    }\n  }\n});","map":{"version":3,"names":["createStore","axios","toast","apiURL","state","user","services","service","booking","review","getters","mutations","setUser","payload","setServices","setService","setBooking","setReview","actions","getUsers","commit","data","get","e","error","message","autoClose","position","POSITION","BOTTOM_CENTER","console","log","fetchUser","id","result","msg","getServices","results","getService","response","getBookings","getBooking","getReviews","getReview","login","context","token","post","success","cookies","set","useToken","router","push","name"],"sources":["C:/Users/Student/Documents/Capstone/Capstone/src/store/index.js"],"sourcesContent":["import { createStore } from \"vuex\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"vue3-toastify\";\r\nimport \"vue3-toastify/dist/index.css\";\r\n\r\nconst apiURL = \"https://thutzbooking.onrender.com\";\r\n\r\nexport default createStore({\r\n  state: {\r\n    user: null,\r\n    services: null,\r\n    service: null,\r\n    booking: null,\r\n    review: null,\r\n  },\r\n  getters: {},\r\n  mutations: {\r\n    setUser(state, payload) {\r\n      state.user = payload;\r\n    },\r\n    setServices(state, payload) {\r\n      state.services = payload;\r\n    },\r\n    setService(state, payload) {\r\n      state.service = payload;\r\n    },\r\n    setBooking(state, payload) {\r\n      state.booking = payload;\r\n    },\r\n    setReview(state, payload) {\r\n      state.review = payload;\r\n    },\r\n  },\r\n  actions: {\r\n    // ===== Users =====\r\n    async getUsers({ commit }) {\r\n      try {\r\n        let { data } = await axios.get(`${apiURL}/user`);\r\n        commit(\"setUser\", data);\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER,\r\n        });\r\n      }\r\n      console.log(getUsers);\r\n    },\r\n    async fetchUser({ commit }, id) {\r\n      try {\r\n        const { result, msg } = await (\r\n          await axios.get(`${apiURL}/user/${id}`)\r\n        ).data;\r\n        if (result) {\r\n          commit(\"setUser\", result);\r\n        } else {\r\n          toast.error(`${msg}`, {\r\n            autoClose: 2000,\r\n            position: toast.POSITION.BOTTOM_CENTER,\r\n          });\r\n        }\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER,\r\n        });\r\n      }\r\n    },\r\n\r\n    // ===== Services =====\r\n    async getServices({ commit }) {\r\n      try {\r\n        const {\r\n          data: { results },\r\n        } = await axios.get(`${apiURL}/services`);\r\n        console.log(results);\r\n\r\n        commit(\"setServices\", results);\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER,\r\n        });\r\n      }\r\n    },\r\n    async getService({ commit }, id) {\r\n      try {\r\n        const response = await axios.get(`${apiURL}/services/${id}`);\r\n        console.log(results);\r\n        \r\n        commit(\"setService\", results);\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER,\r\n        });\r\n      }\r\n    },\r\n\r\n    // ===== Bookings =====\r\n    async getBookings({ commit }) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/booking`);\r\n        commit(\"setBooking\", data);\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER,\r\n        });\r\n      }\r\n    },\r\n    async getBooking({ commit }, id) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/booking/${id}`);\r\n        commit(\"setBooking\", data);\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER,\r\n        });\r\n      }\r\n    },\r\n\r\n    // ===== Reviews =====\r\n    async getReviews({ commit }) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/review`);\r\n        commit(\"setReview\", data);\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER,\r\n        });\r\n      }\r\n    },\r\n    async getReview({ commit }, id) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/review/${id}`);\r\n        commit(\"setReview\", data);\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER,\r\n        });\r\n      }\r\n    },\r\n\r\n    // ===== LOGIN =======\r\n    async login(context, payload) {\r\n      try {\r\n        const { msg, result, token } = await (\r\n          await axios.post(`${apiURL}user/login`, payload)\r\n        ).data;\r\n        if (result) {\r\n          toast.success(`${msg}`, {\r\n            autoClose: 3000,\r\n          });\r\n          context.commit(\"setUser\", {\r\n            msg,\r\n            result,\r\n          });\r\n          cookies.set(\"LegitUser\", { token, msg, result });\r\n          useToken(token);\r\n          router.push({ name: \"services\" });\r\n          toast.success(\"Select to book!\"),\r\n            {\r\n              autoClose: 10000,\r\n            };\r\n        } else {\r\n          toast.error(`${msg}`, {\r\n            autoClose: 3000,\r\n          });\r\n        }\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 3000,\r\n        });\r\n      }\r\n    },\r\n  },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}