{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nimport axios from 'axios';\nimport { toast } from 'vue3-toastify';\nimport 'vue3-toastify/dist/index.css';\nconst apiURL = 'https://thutzbooking.onrender.com';\nexport default createStore({\n  state: {\n    user: null,\n    services: null,\n    booking: null,\n    review: null\n  },\n  getters: {},\n  mutations: {\n    setUser(state, payload) {\n      state.user = payload;\n    },\n    setServices(state, payload) {\n      state.services = payload;\n    },\n    setBooking(state, payload) {\n      state.booking = payload;\n    },\n    setReview(state, payload) {\n      state.review = payload;\n    }\n  },\n  actions: {\n    // ===== Users =====\n    async getUsers({\n      commit\n    }) {\n      try {\n        let {\n          data\n        } = await axios.get(`${apiURL}/user`);\n        commit('setUser', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n      console.log(getUsers);\n    },\n    async fetchUser({\n      commit\n    }, id) {\n      try {\n        const {\n          result,\n          msg\n        } = await (await axios.get(`${apiURL}/user/${id}`)).data;\n        if (result) {\n          commit('setUser', result);\n        } else {\n          toast.error(`${msg}`, {\n            autoClose: 2000,\n            position: toast.POSITION.BOTTOM_CENTER\n          });\n        }\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== Services =====\n    async getServices({\n      commit\n    }) {\n      try {\n        const {\n          data: {\n            results\n          }\n        } = await axios.get(`${apiURL}/services`);\n        console.log(results);\n        commit('setServices', results);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async getService({\n      commit\n    }, id) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/services/${id}`);\n        commit('setServices', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== Bookings =====\n    async getBookings({\n      commit\n    }) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/booking`);\n        commit('setBooking', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async getBooking({\n      commit\n    }, id) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/booking/${id}`);\n        commit('setBooking', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== Reviews =====\n    async getReviews({\n      commit\n    }) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/review`);\n        commit('setReview', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async getReview({\n      commit\n    }, id) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/review/${id}`);\n        commit('setReview', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== LOGIN =======\n    async login(context, payload) {\n      try {\n        const {\n          msg,\n          result,\n          token\n        } = await (await axios.post(`${apiURL}user/login`, payload)).data;\n        if (result) {\n          toast.success(`${msg}`, {\n            autoClose: 3000\n          });\n          context.commit('setUser', {\n            msg,\n            result\n          });\n          cookies.set('LegitUser', {\n            token,\n            msg,\n            result\n          });\n          useToken(token);\n          router.push({\n            name: 'servu'\n          });\n          toast.success('Welcome Back!'), {\n            autoClose: 10000\n          };\n        } else {\n          toast.error(`${msg}`, {\n            autoClose: 3000\n          });\n        }\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 3000\n        });\n      }\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["createStore","axios","toast","apiURL","state","user","services","booking","review","getters","mutations","setUser","payload","setServices","setBooking","setReview","actions","getUsers","commit","data","get","e","error","message","autoClose","position","POSITION","BOTTOM_CENTER","console","log","fetchUser","id","result","msg","getServices","results","getService","getBookings","getBooking","getReviews","getReview","login","context","token","post","success","cookies","set","useToken","router","push","name","modules"],"sources":["C:/Users/Student/Documents/Capstone/Capstone/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\nimport axios from 'axios'\r\nimport { toast } from 'vue3-toastify'\r\nimport 'vue3-toastify/dist/index.css'\r\n\r\nconst apiURL = 'https://thutzbooking.onrender.com'\r\n\r\nexport default createStore({\r\n  state: {\r\n    user: null,\r\n    services: null,\r\n    booking: null,\r\n    review: null,\r\n  },\r\n  getters: {},\r\n  mutations: {\r\n    setUser(state, payload) {\r\n      state.user = payload\r\n    },\r\n    setServices(state, payload) {\r\n      state.services = payload\r\n    },\r\n    setBooking(state, payload) {\r\n      state.booking = payload\r\n    },\r\n    setReview(state, payload) {\r\n      state.review = payload\r\n    },\r\n  },\r\n  actions: {\r\n    // ===== Users =====\r\n    async getUsers({ commit }) {\r\n      try {\r\n        let { data } = await axios.get(`${apiURL}/user`)\r\n        commit('setUser', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n      console.log(getUsers);\r\n      \r\n    },\r\n    async fetchUser({ commit }, id) {\r\n      try {\r\n        const { result, msg } = await (await axios.get(`${apiURL}/user/${id}`)).data\r\n        if (result) {\r\n          commit('setUser', result)\r\n        } else {\r\n          toast.error(`${msg}`, {\r\n            autoClose: 2000,\r\n            position: toast.POSITION.BOTTOM_CENTER\r\n          })\r\n        }\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n\r\n    // ===== Services =====\r\n    async getServices({ commit }) {\r\n      try {\r\n        const { data: {results}} = await axios.get(`${apiURL}/services`)\r\n        console.log(results);\r\n        \r\n        commit('setServices', results)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n    async getService({ commit }, id) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/services/${id}`)\r\n        commit('setServices', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n\r\n    // ===== Bookings =====\r\n    async getBookings({ commit }) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/booking`)\r\n        commit('setBooking', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n    async getBooking({ commit }, id) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/booking/${id}`)\r\n        commit('setBooking', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n\r\n    // ===== Reviews =====\r\n    async getReviews({ commit }) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/review`)\r\n        commit('setReview', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n    async getReview({ commit }, id) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/review/${id}`)\r\n        commit('setReview', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n\r\n    // ===== LOGIN =======\r\n    async login(context, payload) {\r\n      try {\r\n        const { msg, result, token } = await (await axios.post(`${apiURL}user/login`, payload)).data\r\n        if (result) {\r\n          toast.success(`${msg}`, {\r\n            autoClose: 3000,\r\n          })\r\n          context.commit('setUser', {\r\n            msg,\r\n            result\r\n          })\r\n          cookies.set('LegitUser', {token, msg, result})\r\n          useToken(token)\r\n          router.push({ name: 'servu' })\r\n          toast.success('Welcome Back!'), {\r\n            autoClose: 10000,\r\n          }\r\n        } else {\r\n          toast.error(`${msg}`, {\r\n            autoClose: 3000\r\n          })\r\n        }\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 3000\r\n        })\r\n      }\r\n    },\r\n  },\r\n  modules: {}\r\n})\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}