{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nimport axios from 'axios';\nimport { toast } from 'vue3-toastify';\nimport 'vue3-toastify/dist/index.css';\nconst apiURL = 'https://thutzbooking.onrender.com';\nexport default createStore({\n  state: {\n    user: null,\n    services: null,\n    booking: null,\n    review: null\n  },\n  getters: {},\n  mutations: {\n    setUser(state, payload) {\n      state.user = payload;\n    },\n    setServices(state, payload) {\n      state.services = payload;\n    },\n    setBooking(state, payload) {\n      state.booking = payload;\n    },\n    setReview(state, payload) {\n      state.review = payload;\n    }\n  },\n  actions: {\n    // ===== Users =====\n    async getUsers({\n      commit\n    }) {\n      try {\n        let {\n          data\n        } = await axios.get(`${apiURL}/user`);\n        commit('setUser', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n      console.log(getUsers);\n    },\n    actions: {\n      async getUsers({\n        commit\n      }) {\n        try {\n          const response = await axios.get(`${apiURL}/user`);\n          commit('setUser', response.data);\n        } catch (e) {\n          toast.error(`${e.message}`, {\n            autoClose: 2000,\n            position: toast.POSITION.BOTTOM_CENTER\n          });\n        }\n      },\n      catch(e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== Services =====\n    async getServices({\n      commit\n    }) {\n      try {\n        const {\n          data: {\n            results\n          }\n        } = await axios.get(`${apiURL}/services`);\n        console.log(results);\n        commit('setServices', results);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async getService({\n      commit\n    }, id) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/services/${id}`);\n        commit('setServices', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== Bookings =====\n    async getBookings({\n      commit\n    }) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/booking`);\n        commit('setBooking', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async getBooking({\n      commit\n    }, id) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/booking/${id}`);\n        commit('setBooking', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== Reviews =====\n    async getReviews({\n      commit\n    }) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/review`);\n        commit('setReview', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async getReview({\n      commit\n    }, id) {\n      try {\n        const {\n          data\n        } = await axios.get(`${apiURL}/review/${id}`);\n        commit('setReview', data);\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== LOGIN =======\n    async login(context, payload) {\n      try {\n        const {\n          msg,\n          result,\n          token\n        } = await (await axios.post(`${apiURL}user/login`, payload)).data;\n        if (result) {\n          toast.success(`${msg}`, {\n            autoClose: 3000\n          });\n          context.commit('setUser', {\n            msg,\n            result\n          });\n          cookies.set('LegitUser', {\n            token,\n            msg,\n            result\n          });\n          useToken(token);\n          router.push({\n            name: 'services'\n          });\n          toast.success('Select to book!'), {\n            autoClose: 10000\n          };\n        } else {\n          toast.error(`${msg}`, {\n            autoClose: 3000\n          });\n        }\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 3000\n        });\n      }\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["createStore","axios","toast","apiURL","state","user","services","booking","review","getters","mutations","setUser","payload","setServices","setBooking","setReview","actions","getUsers","commit","data","get","e","error","message","autoClose","position","POSITION","BOTTOM_CENTER","console","log","response","catch","getServices","results","getService","id","getBookings","getBooking","getReviews","getReview","login","context","msg","result","token","post","success","cookies","set","useToken","router","push","name","modules"],"sources":["C:/Users/Student/Documents/Capstone/Capstone/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\nimport axios from 'axios'\r\nimport { toast } from 'vue3-toastify'\r\nimport 'vue3-toastify/dist/index.css'\r\n\r\n\r\nconst apiURL = 'https://thutzbooking.onrender.com'\r\n\r\nexport default createStore({\r\n  state: {\r\n    user: null,\r\n    services: null,\r\n    booking: null,\r\n    review: null,\r\n  },\r\n  getters: {},\r\n  mutations: {\r\n    setUser(state, payload) {\r\n      state.user = payload\r\n    },\r\n    setServices(state, payload) {\r\n      state.services = payload\r\n    },\r\n    setBooking(state, payload) {\r\n      state.booking = payload\r\n    },\r\n    setReview(state, payload) {\r\n      state.review = payload\r\n    },\r\n  },\r\n  actions: {\r\n    // ===== Users =====\r\n    async getUsers({ commit }) {\r\n      try {\r\n        let { data } = await axios.get(`${apiURL}/user`)\r\n        commit('setUser', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n      console.log(getUsers);\r\n      \r\n    },\r\n    actions: {\r\n      async getUsers({ commit }) {\r\n        try {\r\n          const response = await axios.get(`${apiURL}/user`);\r\n          commit('setUser', response.data);\r\n        } catch (e) {\r\n          toast.error(`${e.message}`, {\r\n            autoClose: 2000,\r\n            position: toast.POSITION.BOTTOM_CENTER\r\n          })\r\n        }\r\n      }, catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n\r\n    // ===== Services =====\r\n    async getServices({ commit }) {\r\n      try {\r\n        const { data: {results}} = await axios.get(`${apiURL}/services`)\r\n        console.log(results);\r\n        \r\n        commit('setServices', results)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n    async getService({ commit }, id) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/services/${id}`)\r\n        commit('setServices', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n\r\n    // ===== Bookings =====\r\n    async getBookings({ commit }) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/booking`)\r\n        commit('setBooking', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n    async getBooking({ commit }, id) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/booking/${id}`)\r\n        commit('setBooking', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n\r\n    // ===== Reviews =====\r\n    async getReviews({ commit }) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/review`)\r\n        commit('setReview', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n    async getReview({ commit }, id) {\r\n      try {\r\n        const { data } = await axios.get(`${apiURL}/review/${id}`)\r\n        commit('setReview', data)\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n\r\n    // ===== LOGIN =======\r\n    async login(context, payload) {\r\n      try {\r\n        const { msg, result, token } = await (await axios.post(`${apiURL}user/login`, payload)).data\r\n        if (result) {\r\n          toast.success(`${msg}`, {\r\n            autoClose: 3000,\r\n          })\r\n          context.commit('setUser', {\r\n            msg,\r\n            result\r\n          })\r\n          cookies.set('LegitUser', {token, msg, result})\r\n          useToken(token)\r\n          router.push({ name: 'services' })\r\n          toast.success('Select to book!'), {\r\n            autoClose: 10000,\r\n          }\r\n        } else {\r\n          toast.error(`${msg}`, {\r\n            autoClose: 3000\r\n          })\r\n        }\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 3000\r\n        })\r\n      }\r\n    },\r\n  },\r\n  modules: {}\r\n})\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}