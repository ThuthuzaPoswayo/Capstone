{"ast":null,"code":"import { createStore } from 'vuex';\nimport axios from 'axios';\nimport { toast } from 'vue3-toastify';\nimport 'vue3-toastify/dist/index.css';\nconst apiURL = 'https://thutzbooking.onrender.com/';\nexport default createStore({\n  state: {\n    user: null,\n    services: null,\n    bookings: null,\n    reviews: null,\n    recentProducts: null\n  },\n  getters: {},\n  mutations: {\n    setUsers(state, payload) {\n      state.users = payload;\n    },\n    setUser(state, payload) {\n      state.user = payload;\n    },\n    setProducts(state, payload) {\n      state.products = payload;\n    },\n    setProduct(state, payload) {\n      state.product = payload;\n    },\n    setRecentProducts(state, payload) {\n      state.recentProducts = payload;\n    }\n  },\n  actions: {\n    async getUsers({\n      commit\n    }) {\n      let {\n        data\n      } = await axios.get(`${apiURL}users`);\n      console.log(data);\n      commit('setUsers', data);\n    },\n    async fetchUser(context, id) {\n      try {\n        const {\n          result,\n          msg\n        } = await (await axios.get(`${apiURL}user/${id}`)).data;\n        if (result) {\n          context.commit('setUser', result);\n        } else {\n          toast.error(`${msg}`, {\n            autoClose: 2000,\n            position: toast.POSITION.BOTTOM_CENTER\n          });\n        }\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async register(context, payload) {\n      try {\n        const {\n          msg,\n          err,\n          token\n        } = await (await axios.post(`${apiURL}user/register`, payload)).data;\n        if (token) {\n          context.dispatch('fetchUsers');\n          toast.success(`${msg}`, {\n            autoClose: 2000,\n            position: toast.POSITION.BOTTOM_CENTER\n          });\n          // router.push({ name: 'login' })\n        } else {\n          toast.error(`${err}`, {\n            autoClose: 2000,\n            position: toast.POSITION.BOTTOM_CENTER\n          });\n        }\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async updateUser(context, payload) {\n      try {\n        const {\n          msg,\n          err\n        } = await (await axios.patch(`${apiURL}user/${payload.userID}`, payload)).data;\n        if (msg) {\n          context.dispatch('fetchUsers');\n        } else {\n          toast.error(`${err}`, {\n            autoClose: 2000,\n            position: toast.POSITION.BOTTOM_CENTER\n          });\n        }\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    async deleteUser(context, id) {\n      try {\n        const {\n          msg,\n          err\n        } = await (await axios.delete(`${apiURL}user/${id}`)).data;\n        if (msg) {\n          context.dispatch('fetchUsers');\n        } else {\n          toast.error(`${err}`, {\n            autoClose: 2000,\n            position: toast.POSITION.BOTTOM_CENTER\n          });\n        }\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ===== LOGIN =======\n    async login(context, payload) {\n      try {\n        const {\n          msg,\n          result,\n          token\n        } = await (await axios.post(`${apiURL}user/login`, payload)).data;\n        if (result) {\n          toast.success(`${msg}ðŸ˜Ž`, {\n            autoClose: 2000,\n            position: toast.POSITION.BOTTOM_CENTER\n          });\n          context.commit('setUser', {\n            msg,\n            result\n          });\n        } else {\n          toast.error(`${msg}`, {\n            autoClose: 2000,\n            position: toast.POSITION.BOTTOM_CENTER\n          });\n        }\n      } catch (e) {\n        toast.error(`${e.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    },\n    // ==== Product =====\n\n    async getProducts({\n      commit\n    }) {\n      let {\n        data\n      } = await axios.get(`${apiURL}products`);\n      console.log(data);\n      commit('setProducts', data);\n    },\n    async getProduct({\n      commit\n    }, id) {\n      let {\n        data\n      } = await axios.get(`${apiURL}products/${id}`);\n      console.log(data);\n      commit('setProduct', data);\n    },\n    async fetchProducts({\n      commit\n    }) {\n      try {\n        const response = await axios.get(`${apiURL}products`);\n        commit('setProducts', response.data);\n        let recent = response.data.filter(item => item.prodID < 5);\n        commit('setRecentProducts', recent);\n      } catch (error) {\n        toast.error(`${error.message}`, {\n          autoClose: 2000,\n          position: toast.POSITION.BOTTOM_CENTER\n        });\n      }\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["createStore","axios","toast","apiURL","state","user","services","bookings","reviews","recentProducts","getters","mutations","setUsers","payload","users","setUser","setProducts","products","setProduct","product","setRecentProducts","actions","getUsers","commit","data","get","console","log","fetchUser","context","id","result","msg","error","autoClose","position","POSITION","BOTTOM_CENTER","e","message","register","err","token","post","dispatch","success","updateUser","patch","userID","deleteUser","delete","login","getProducts","getProduct","fetchProducts","response","recent","filter","item","prodID","modules"],"sources":["C:/Users/Student/Documents/Capstone/Capstone/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\nimport axios from 'axios'\r\nimport { toast } from 'vue3-toastify'\r\nimport 'vue3-toastify/dist/index.css'\r\n\r\n\r\n\r\nconst apiURL = 'https://thutzbooking.onrender.com/'\r\n\r\nexport default createStore({\r\n  state: {\r\n    user: null,\r\n    services: null,\r\n    bookings: null,\r\n    reviews: null,\r\n    recentProducts: null\r\n\r\n  },\r\n  getters: { \r\n  },\r\n  mutations: {\r\n    setUsers(state, payload) {\r\n      state.users = payload\r\n    },\r\n    setUser(state, payload) {\r\n      state.user = payload\r\n    },\r\n    setProducts(state, payload) {\r\n      state.products = payload\r\n    },\r\n    setProduct(state, payload) {\r\n      state.product = payload\r\n    },\r\n    setRecentProducts(state, payload) {\r\n      state.recentProducts = payload\r\n    }\r\n\r\n  },\r\n  actions: {\r\n  \r\n    async getUsers({commit}) {\r\n      let {data} = await axios.get(`${apiURL}users`)\r\n      console.log(data);\r\n      commit('setUsers', data)\r\n    },\r\n    async fetchUser(context, id) {\r\n      try {\r\n        const { result, msg } = await (await axios.get(`${apiURL}user/${id}`)).data\r\n        if (result) {\r\n          context.commit('setUser', result)\r\n        } else {\r\n          toast.error(`${msg}`, {\r\n            autoClose: 2000,\r\n            position: toast.POSITION.BOTTOM_CENTER\r\n          })\r\n        }\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n    async register(context, payload) {\r\n      try {\r\n        const { msg, err, token } = await (await axios.post(`${apiURL}user/register`, payload)).data\r\n        if (token) {\r\n          context.dispatch('fetchUsers')\r\n          toast.success(`${msg}`, {\r\n            autoClose: 2000,\r\n            position: toast.POSITION.BOTTOM_CENTER\r\n          })\r\n          // router.push({ name: 'login' })\r\n        } else {\r\n          toast.error(`${err}`, {\r\n            autoClose: 2000,\r\n            position: toast.POSITION.BOTTOM_CENTER\r\n          })\r\n        }\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n    async updateUser(context, payload) {\r\n      try {\r\n        const { msg, err } = await (await axios.patch(`${apiURL}user/${payload.userID}`, payload)).data\r\n        if (msg) {\r\n          context.dispatch('fetchUsers')\r\n        } else {\r\n          toast.error(`${err}`, {\r\n            autoClose: 2000,\r\n            position: toast.POSITION.BOTTOM_CENTER\r\n          })\r\n        }\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n    async deleteUser(context, id) {\r\n      try {\r\n        const { msg, err } = await (await axios.delete(`${apiURL}user/${id}`)).data\r\n        if (msg) {\r\n          context.dispatch('fetchUsers')\r\n        } else {\r\n          toast.error(`${err}`, {\r\n            autoClose: 2000,\r\n            position: toast.POSITION.BOTTOM_CENTER\r\n          })\r\n        }\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n    // ===== LOGIN =======\r\n    async login(context, payload) {\r\n      try {\r\n        const { msg, result, token } = await (await axios.post(`${apiURL}user/login`, payload)).data\r\n\r\n        if (result) {\r\n          toast.success(`${msg}ðŸ˜Ž`, {\r\n            autoClose: 2000,\r\n            position: toast.POSITION.BOTTOM_CENTER\r\n          })\r\n          context.commit('setUser', {\r\n            msg,\r\n            result\r\n          })\r\n        \r\n        } else {\r\n          toast.error(`${msg}`, {\r\n            autoClose: 2000,\r\n            position: toast.POSITION.BOTTOM_CENTER\r\n          })\r\n        }\r\n      } catch (e) {\r\n        toast.error(`${e.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n    },\r\n\r\n    // ==== Product =====\r\n\r\n    async getProducts({commit}) {\r\n      let {data} = await axios.get(`${apiURL}products`)\r\n      console.log(data);\r\n      commit('setProducts', data)\r\n    },\r\n\r\n    async getProduct({commit},id) {\r\n      let {data} = await axios.get(`${apiURL}products/${id}`)\r\n      console.log(data)\r\n      commit('setProduct', data)\r\n    },\r\n\r\n    async fetchProducts({ commit }) {\r\n      try {\r\n        const response = await axios.get(`${apiURL}products`)\r\n        commit('setProducts', response.data)\r\n        let recent = response.data.filter(item => item.prodID < 5)\r\n        commit('setRecentProducts',recent)\r\n      } catch (error) {\r\n        toast.error(`${error.message}`, {\r\n          autoClose: 2000,\r\n          position: toast.POSITION.BOTTOM_CENTER\r\n        })\r\n      }\r\n\r\n    },\r\n  \r\n  },\r\n  modules: {\r\n  }\r\n})\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}